import React from "react";
import { ModalPortal } from "../ModalPortal";
import {
  ModalBackground,
  ModalContainer,
  ModalBody,
  ModalHeader,
  ModalTitle,
  ModalButtonClose,
  ModalFooter,
  ButtonContainer,
  ModalContent,
  Container,
} from "./styles";
import { AiOutlineClose } from "react-icons/ai";
import Button from "../Button";

type Props = {
  isOpen: boolean;
  children?: React.ReactNode;
  onClose: () => void;
  zIndex: string;
  backgroundColor: string;
};

export default function Modal(props: Props) {
  const { children, onClose, isOpen, zIndex } = props;

  if (!isOpen) return null;

  function handleClick(e: React.KeyboardEvent<HTMLInputElement>) {
    e.stopPropagation();
  }

  return (
    <ModalPortal>
      <Container zIndex={zIndex}>
        <ModalBackground backgroundColor={props.backgroundColor} />
        <ModalContainer>
          <ModalBody>{children}</ModalBody>
        </ModalContainer>
      </Container>
      {/* <ModalBackground onClick={handleClose} zIndex={zIndex}>
        <ModalContainer onClick={handleClick as any}>
          <ModalBody>{children}</ModalBody>
        </ModalContainer>
      </ModalBackground> */}
    </ModalPortal>
  );
}

import styled, { css } from "styled-components";

//modalbacground
export const Container = styled.div.attrs((props) => {})`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 100%;
  position: fixed;
  //inset: 0;
  left: 0;
  top: 0;
  transition: all 0.3s ease-in-out;
  z-index: ${(props) => props.zIndex};
`;

export const ModalBackground = styled.div.attrs((props) => {})`
  position: absolute;
  height: 100%;
  width: 100%;
  background-color: ${(props) => props.backgroundColor};
`;

export const ModalContainer = styled.div`
  // display: flex;
  // flex-direction: column;
  // box-shadow: 0 15px 50px 0 rgb(0 0 0 / 35%);
  // max-height: 100%;
  // border-radius: 10px;
  // flex-grow: 0;
  // background-color: ${(props) => props.theme.colors.background};
  // padding: 15px;

  position: relative;
  padding: 20px;
  border-radius: 10px;
  // height: 100%;
  // width: 100%;
  box-shadow: 0 15px 50px 0 rgb(0 0 0 / 35%);
  background-color: ${(props) => props.theme.colors.white};
  overflow: hidden;
  width: 580px;
  max-width: 550px;
`;

export const ModalBody = styled.div`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  width: 100%;
  overflow: auto;
  overflow-x: hidden;
`;
